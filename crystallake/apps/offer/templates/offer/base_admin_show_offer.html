{% extends 'core/admin_base.html' %}

{% block content %}

    {% block breadcrumbs %}
    {% endblock breadcrumbs %}

    <div class="shadow p-3 rounded-2 d-flex flex-column gap-4 position-relative">

        <i class="fa-regular fa-pen-to-square card_icon" data-goto="admin_manage_room.html"></i>

        <div class="text-center">
            <span class="fw-bold fs-5">id: </span>
            <span class="fw-bold fs-5">19</span>
        </div>

        <div class="row justify-content-between">

            {% block properties %}
            {% endblock properties %}

        </div>

        <div class="row">

            <div class="col-lg-6 col-12">

                <div class="col-12">
                    <p class="fw-bold col-5">Описание:</p>
                    <p name="" id="manage_info" class="opacity-75">{{ offer.description }}</p>
                    <hr>
                </div>

                <div class="col-12">
                    <div class="d-flex flex-column">
                        <p class="fw-bold col-5">Теги:</p>
                        <div class="border-1 border-0 flex-grow-1">

                                <div class="d-flex gap-4 flex-wrap mt-3 p-0 border-0">
                                    <div class="d-flex text-bg-c_blue_100 fs-6 rounded overflow-hidden">
                                        <span class="py-1 px-3">Два этажа</span>
                                    </div>
                                    <div class="d-flex text-bg-c_blue_100 fs-6 rounded overflow-hidden">
                                        <span class="py-1 px-3">Беседка</span>
                                    </div>
                                    <div class="d-flex text-bg-c_blue_100 fs-6 rounded overflow-hidden">
                                        <span class="py-1 px-3">Два этажа</span>
                                    </div>
                                    <div class="d-flex text-bg-c_blue_100 fs-6 rounded overflow-hidden">
                                        <span class="py-1 px-3">Два этажа</span>
                                    </div>
                                    <div class="d-flex text-bg-c_blue_100 fs-6 rounded overflow-hidden">
                                        <span class="py-1 px-3">Два этажа</span>
                                    </div>
                                    <div class="d-flex text-bg-c_blue_100 fs-6 rounded overflow-hidden">
                                        <span class="py-1 px-3">Два этажа</span>
                                    </div>
                                    <div class="d-flex text-bg-c_blue_100 fs-6 rounded overflow-hidden">
                                        <span class="py-1 px-3">Два этажа</span>
                                    </div>
                                    <div class="d-flex text-bg-c_blue_100 fs-6 rounded overflow-hidden">
                                        <span class="py-1 px-3">Два этажа</span>
                                    </div>
                                </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="col-lg-6 col-12 mt-lg-0 mt-4">
                <span class="input-group-text rounded-top rounded-0">Главное фото:</span>
                <div class="img_wrapper">
                    <img src="{{ offer.get_main_photo }}" alt="Главное фото" class="img-fluid w-100 img">
                    <button class="btn open_img btn-dark" type="button" data-bs-toggle="modal" data-bs-target="#show_img_modal">
                        <i class="fa-solid fa-up-right-and-down-left-from-center"></i>
                    </button>
                </div>
            </div>

        </div>

        <!-- accordion images -->

        <div class="accordion" id="images-accord">
            <div class="accordion-item">
              <h2 class="accordion-header" id="heading-1">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#images" aria-expanded="true" aria-controls="images">
                  Дополнительные фотографии
                </button>
              </h2>
              <div id="images" class="accordion-collapse collapse" aria-labelledby="heading-1" data-bs-parent="#images-accord">
                <div class="accordion-body row">

                    {% for photo in offer.photos.all %}

                        <div class="col-lg-4 col-sm-6 col-12 mb-4">

                            <div class="w-100">
                                <span class="input-group-text rounded-top rounded-0">Фото {{ photo.order|add:'1' }}:</span>
                                <div class="img_wrapper">

                                    <img src="{{ photo.path.url }} " alt="{{ offer.name }} фото {{ photo.order|add:'1' }}" class="img-fluid w-100 img">

                                    <button class="btn open_img btn-dark" type="button" data-bs-toggle="modal" data-bs-target="#show_img_modal">
                                        <i class="fa-solid fa-up-right-and-down-left-from-center"></i>
                                    </button>

                                </div>
                            </div>

                        </div>

                    {% endfor %}


                </div>
              </div>
            </div>
        </div>

        <!-- accordion imges end -->


    </div>


    <!-- sales -->

    <form class="shadow p-3 rounded-2 d-flex flex-column gap-4 mt-5">

    <div class="text-center">
        <span class="fw-bold fs-5">Активные акции на эту услуги</span>
    </div>

    <div class="overflow-auto mt-4">
        <table class="table table-striped table-hover table-bordered">
            <thead>
            <tr>
                <th scope="col">id</th>
                <th scope="col">Наименование</th>
                <th scope="col">Начало</th>
                <th scope="col">Окончание</th>
                <th scope="col">Скидка</th>
                <th scope="col">Доп. условия</th>
                <th scope="col">Итого цена</th>
            </tr>
            </thead>
            <tbody>

                <tr>
                    <th scope="row">1</th>
                    <td>
                        <a href="#" class="link-hover">Новогодние скидки</a>
                    </td>
                    <td>01.01.2022</td>
                    <td>10.01.2022</td>
                    <td>15%</td>
                    <td>Нет</td>
                    <td>12354&#8381;</td>

                </tr>
                <tr>
                    <th scope="row">2</th>
                    <td>
                        <a href="#" class="link-hover">Новогодние скидки</a>
                    </td>
                    <td>01.01.2022</td>
                    <td>10.01.2022</td>
                    <td>15%</td>
                    <td>Нет</td>
                    <td>12354&#8381;</td>

                </tr>
                <tr>
                    <th scope="row">3</th>
                    <td>
                        <a href="#" class="link-hover">Живи дольше, плати меньше</a>
                    </td>
                    <td>01.01.2022</td>
                    <td>10.01.2022</td>
                    <td>3525&#8381;</td>
                    <td>Да</td>
                    <td>12354&#8381;</td>

                </tr>
            </tbody>
        </table>
    </div>



    </form>

    <!-- end sales -->

    <!-- prices -->

    <form class="shadow p-3 rounded-2 d-flex flex-column gap-4 mt-5">

    <div class="text-center">
        <span class="fw-bold fs-5">Дополнительное повышение цен</span>
    </div>

    <div class="overflow-auto mt-4">
        <table class="table table-striped table-hover table-bordered">
            <thead>
            <tr>
                <th scope="col">Даты</th>
                <th scope="col">Цена</th>

            </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="text-nowrap">01.01.2022 - 10.01.2022</td>
                    <td>9248&#8381;</td>

                </tr>

            </tbody>
        </table>
    </div>


    </form>

    <!-- end prices -->

    <!-- properties -->

    <form class="shadow p-3 rounded-2 d-flex flex-column gap-4 mt-5">

    <div class="text-center">
        <span class="fw-bold fs-5">Дополнительные свойства</span>
    </div>

    <div class="overflow-auto mt-4">
        <table class="table table-striped table-hover table-bordered">
            <thead>
            <tr>
                <th scope="col">id свойства</th>
                <th scope="col">Наименование свойства</th>
                <th scope="col">Установленное значение</th>

            </tr>
            </thead>
            <tbody>

                <tr>
                    <th scope="row">1</th>
                    <td>
                        <a href="admin_manage_tag.html" class="link-hover d-block">Количество гамаков</a>
                    </td>
                    <td>2</td>

                </tr>
                <tr>
                    <th scope="row">2</th>
                    <td>
                        <a href="admin_manage_tag.html" class="link-hover d-block">Вид из окон</a>
                    </td>
                    <td>На озеро</td>

                </tr>
            </tbody>
        </table>
    </div>


    </form>

    <!-- end properties -->

{% endblock content %}

{% block popups %}
    <div class="modal fade" id="show_img_modal" tabindex="-1" aria-labelledby="show_img_label" aria-hidden="true">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="show_img_label">Просмотр изображения</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <img id="img_modal" class="w-100" alt="Просмотр изображения">
            </div>
          </div>
        </div>
    </div>
{% endblock popups %}
